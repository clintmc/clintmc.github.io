<!DOCTYPE html>
<html lang="en-us">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  
  <meta name="generator" content="Hugo 0.111.3">
  <meta name="author" content="Clint McGuire">

  
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Merriweather:400,700%7cOpen&#43;Sans:400,400italic,700%7cRoboto&#43;Mono%25!%28EXTRA%20*hugolib.pageState=Page%28/blog/FortiSwitch-VLANs.md%29%29">
  <link rel="stylesheet" href="/styles.css">
  

  
    <script>
      window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
      ga('create', 'UA-12404931-1', 'auto');
      ga('set', 'anonymizeIp', true);
      ga('require', 'eventTracker');
      ga('require', 'outboundLinkTracker');
      ga('require', 'urlChangeTracker');
      ga('send', 'pageview');
    </script>
    <script async src="//www.google-analytics.com/analytics.js"></script>
    <script async src="//cdnjs.cloudflare.com/ajax/libs/autotrack/2.4.1/autotrack.js"></script>
  

  

  <link rel="apple-touch-icon" sizes="180x180" href="/img/favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/img/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/img/favicon/favicon-16x16.png">
  <link rel="manifest" href="/img/favicon/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">

  <link rel="manifest" href="/site.webmanifest">
  <link rel="icon" type="image/png" href="/img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/icon-192.png">

  <link rel="canonical" href="https://www.clintmcguire.com/blog/fortiswitch-vlans/">

  <meta property="twitter:card" content="summary_large_image">
  
  <meta property="og:site_name" content="Website of Clint McGuire">
  <meta property="og:url" content="https://www.clintmcguire.com/blog/fortiswitch-vlans/">
  <meta property="og:title" content="FortiSwitch VLANs | Website of Clint McGuire">
  <meta property="og:locale" content="en-us">
  
  <meta property="article:published_time" content="2021-11-03T07:35:48-07:00">
  
  <meta property="article:modified_time" content="2021-11-03T07:35:48-07:00">
  

  <title>FortiSwitch VLANs | Website of Clint McGuire</title>

  
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-12404931-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>


</head>
<body>

<style type="text/css">

.masthead-hero {
  background-image: url("https://www.clintmcguire.com/img/hero.webp");
}
</style>

<div class="masthead-hero"></div>


<div id="main" role="main">
  <div class="sidebar sticky" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <div class="author-avatar">
    <a href="/">
      <img src="/img/ClintMcGuire.png" alt="Clint McGuire" itemprop="image">
    </a>
  </div>
  <div class="author-content">
    <h3 class="author-name" itemprop="name">Clint McGuire</h3>
    <p class="author-bio" itemprop="description">Cyber Security Advisor | Project Leader | Senior Consultant | CISSP</p>
  </div>
  <div class="author-urls-wrapper">
    <ul class="author-urls social-icons" aria-hidden="true">
      <li itemprop="homeLocation" itemscope itemtype="http://schema.org/Place">
        <span itemprop="name">Vancouver</span>
      </li>
      
      <li>
        <a itemprop="sameAs" href="//ca.linkedin.com/in/clintmcguire/" target="_blank" rel="noopener noreferrer">
          <i class="fa fa-linkedin"></i>
          LinkedIn
        </a>
      </li>
      
      <li>
        <a itemprop="sameAs" href="//github.com/clintmc/" target="_blank" rel="noopener noreferrer">
          <i class="fa fa-github"></i>
          Github
        </a>
      </li>
      
    </ul>  
  </div>
</div>

  <article class="page">
		<div class="page_container">
			<section class="page_content">
				<div class="navbar-hero">
	<nav>
		<a href="/">Home</a>&nbsp&nbsp•&nbsp&nbsp
		<a href="/blog">Blog</a>&nbsp&nbsp•&nbsp&nbsp
		<a href="/contact">Contact</a>
	</nav>
</div>
				<article class="post" itemscope itemtype="http://schema.org/Article">
  <div class="post-container">
    <h1 itemprop="name"><a href="https://www.clintmcguire.com/blog/fortiswitch-vlans/">FortiSwitch VLANs</a></h1>

    
      

<div class="post-metadata">

  <span class="post-date">
    
    <time datetime="2021-11-03 07:35:48 -0700 PDT" itemprop="datePublished dateModified">
      2021-11-03
    </time>
  </span>

  

</div>

    

    <div class="post-style" itemprop="articleBody">
      What the heck are Native and Allowed VLANs?
      <p>In the FortiSwitch Management, for Ports and Trunks, it shows Native VLAN and Allowed VLANs.
This was new terminology for me. Other switches I&rsquo;ve used in the past have had either Tagged or Untagged.</p>
<p>If you look in the CLI, you can also assign an Untagged VLAN to ports&hellip;</p>
<h3 id="how-do-you-modify-the-vlans-in-the-gui">How do you modify the VLANs in the GUI?</h3>
<p>Quick note, to change the VLAN in the GUI, find the port, put your mouse over the table cell for the port and VLAN type you want to change, then click the Pencil icon that will show up in the top right of the cell.<br>
This will open a menu where you can select the new settings you want.</p>
<p>If you want to change multiple ports at the same time, you can use the Shift-Click, or the Control/Command-Click multiple select methods.
In case these terms are not familiar (I may have them wrong), to select a continuous range, click the first in the range, hold shift and click the last in the range.  To select multiple, but not continuous, click the first port, hold Control (on Windows) or Command (on Mac) then click the next port, hold the keyboard button again and click the third, repeat until all required selections are made.</p>
<h3 id="native-vlan">Native VLAN</h3>
<p>This is sort of like Untagged.
As packets ingress into the switch, if they have no tag, the FortiSwitch assigns the Native VLAN as a tag.
As packets leave switch ports, if their tag matches the Native VLAN the packet is sent with out without a tag.
It takes untagged traffic, assigns it a tag, moves it through the network and potentially untags it.</p>
<h3 id="allowed-vlan">Allowed VLAN</h3>
<p>The Allowed VLANs are a list of VLAN IDs that the switch will accept (ingress) or transmit (egress) for that port.
The Native VLAN is on this list implicitly, so it doesn&rsquo;t need to be added.
This is like Tagged ports on another vendor&rsquo;s gear.</p>
<h4 id="can-i-put-the-native-vlan-in-the-allowed-vlan-list">Can I put the Native VLAN in the Allowed VLAN list?</h4>
<p>I&rsquo;ve tested this on 6.4.6 and 6.4.7 in the GUI - no. When modifying the Allowed VLAN list, it doesn&rsquo;t include the VLAN currently assigned as Native VLAN.</p>
<h3 id="what-is-the-underlying-model-here">What is the underlying model here?</h3>
<p>Here&rsquo;s my speculation - I don&rsquo;t think this is in the docs (I can&rsquo;t find it).  The Fortinet VLAN model is that all packets should have a tag while they are moving through the FortiSwitches. This is why Untagged is hidden on the CLI and the Native VLAN tag gets added on ingress to untagged packets. Also, the Untagged VLAN option only applies on Egress.<br>
I don&rsquo;t see anything wrong with having all packets tagged as they move through the switch, but this was new to me. I did the CCNA course a long, long time ago. I don&rsquo;t recall Native VLANs from it. I don&rsquo;t recall them coming up when I was prepping for the Brocade cert I took (merely a long time ago). It would have simplified my understanding of the terminology if this model had been presented first.</p>

    </div>

    
      

    

    
      
<div class="share-box" aria-hidden="true">
  <ul class="share">
    <li>
      <a class="twitter"
         href="https://twitter.com/intent/tweet?text=FortiSwitch%20VLANs&amp;url=https%3a%2f%2fwww.clintmcguire.com%2fblog%2ffortiswitch-vlans%2f"
         target="_blank" rel="noopener noreferrer">
        <i class="fa fa-twitter"></i>
      </a>
    </li>
    <li>
      <a class="facebook"
         href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fwww.clintmcguire.com%2fblog%2ffortiswitch-vlans%2f"
         target="_blank" rel="noopener noreferrer">
        <i class="fa fa-facebook"></i>
      </a>
    </li>
    <li>
      <a class="linkedin"
         href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fwww.clintmcguire.com%2fblog%2ffortiswitch-vlans%2f&amp;title=FortiSwitch%20VLANs"
         target="_blank" rel="noopener noreferrer">
        <i class="fa fa-linkedin"></i>
      </a>
    </li>
    <li>
      <a class="email"
         href="mailto:?subject=FortiSwitch%20VLANs&amp;body=https%3a%2f%2fwww.clintmcguire.com%2fblog%2ffortiswitch-vlans%2f">
        <i class="fa fa-envelope"></i>
      </a>
    </li>
  </ul>
</div>


    

    
      
<div class="disqus">
  <div id="disqus_thread"></div>
<script type="application/javascript">
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "clintmcguire-com" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>


    

  </div>
</article>
			</section>
		</div>
	</article>
</div> 

<div class="page_footer">
	<p>© Clint McGuire 2009-2023. Powered by <a href="http://gohugo.io/">Hugo</a> and a modified version of <a href="https://github.com/jhu247/minimal-academic">Minimal Academic</a></p>
</div>
    
    
    <script id="dsq-count-scr" src="//clintmcguire-com.disqus.com/count.js" async></script>
    


  </body>
</html>
