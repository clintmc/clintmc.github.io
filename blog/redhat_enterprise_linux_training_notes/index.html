<!DOCTYPE html>
<html lang="en-us">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  
  <meta name="generator" content="Hugo 0.58.3" />
  <meta name="author" content="Clint McGuire">

  
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Merriweather:400,700%7cOpen&#43;Sans:400,400italic,700%7cRoboto&#43;Mono%25!%28EXTRA%20*hugolib.pageState=Page%28/blog/RedHat_Enterprise_Linux_Training_Notes.md%29%29">
  <link rel="stylesheet" href="/styles.css">
  

  
    <script>
      window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
      ga('create', 'UA-12404931-1', 'auto');
      
      ga('require', 'eventTracker');
      ga('require', 'outboundLinkTracker');
      ga('require', 'urlChangeTracker');
      ga('send', 'pageview');
    </script>
    <script async src="//www.google-analytics.com/analytics.js"></script>
    <script async src="//cdnjs.cloudflare.com/ajax/libs/autotrack/2.4.1/autotrack.js"></script>
  

  
  <link rel="alternate" href="http://www.clintmcguire.com/index.xml" type="application/rss+xml" title="Website of Clint McGuire">
  <link rel="feed" href="http://www.clintmcguire.com/index.xml" type="application/rss+xml" title="Website of Clint McGuire">
  

  <link rel="apple-touch-icon" sizes="180x180" href="/img/favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/img/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/img/favicon/favicon-16x16.png">
  <link rel="manifest" href="/img/favicon/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">

  <link rel="manifest" href="/site.webmanifest">
  <link rel="icon" type="image/png" href="/img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/icon-192.png">

  <link rel="canonical" href="http://www.clintmcguire.com/blog/redhat_enterprise_linux_training_notes/">

  <meta property="twitter:card" content="summary_large_image">
  
  <meta property="og:site_name" content="Website of Clint McGuire">
  <meta property="og:url" content="http://www.clintmcguire.com/blog/redhat_enterprise_linux_training_notes/">
  <meta property="og:title" content="Red Hat Enterprise Linux Training - Notes | Website of Clint McGuire">
  <meta property="og:locale" content="en-us">
  
  <meta property="article:published_time" content="2017-07-05T00:00:00&#43;00:00">
  
  <meta property="article:modified_time" content="2017-07-05T00:00:00&#43;00:00">
  

  <title>Red Hat Enterprise Linux Training - Notes | Website of Clint McGuire</title>

  
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-12404931-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>


</head>
<body>

<style type="text/css">

.masthead-hero {
  background-image: url("http://www.clintmcguire.com/img/hero.jpg");
}
</style>

<div class="masthead-hero"></div>


<div id="main" role="main">
  <div class="sidebar sticky" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <div class="author-avatar">
    <a href="/">
      <img src="/img/ClintMcGuire.png" alt="Clint McGuire" itemprop="image">
    </a>
  </div>
  <div class="author-content">
    <h3 class="author-name" itemprop="name">Clint McGuire</h3>
    <p class="author-bio" itemprop="description">IT Consultant</p>
  </div>
  <div class="author-urls-wrapper">
    <ul class="author-urls social-icons" aria-hidden="true">
      <li itemprop="homeLocation" itemscope itemtype="http://schema.org/Place">
        <span itemprop="name">Vancouver</span>
      </li>
      
      <li>
        <a itemprop="sameAs" href="//ca.linkedin.com/in/clintmcguire/" target="_blank" rel="noopener noreferrer">
          <i class="fa fa-linkedin"></i>
          LinkedIn
        </a>
      </li>
      
      <li>
        <a itemprop="sameAs" href="//github.com/clintmc/" target="_blank" rel="noopener noreferrer">
          <i class="fa fa-github"></i>
          Github
        </a>
      </li>
      
    </ul>  
  </div>
</div>

  <article class="page">
		<div class="page_container">
			<section class="page_content">
				<div class="navbar-hero">
	<nav>
		<a href="/">Home</a>&nbsp&nbsp•&nbsp&nbsp
		<a href="/blog">Blog</a>&nbsp&nbsp•&nbsp&nbsp
		<a href="/contact">Contact</a>
	</nav>
</div>
				<article class="post" itemscope itemtype="http://schema.org/Article">
  <div class="post-container">
    <h1 itemprop="name"><a href="http://www.clintmcguire.com/blog/redhat_enterprise_linux_training_notes/">Red Hat Enterprise Linux Training - Notes</a></h1>

    
      

<div class="post-metadata">

  <span class="post-date">
    
    <time datetime="2017-07-05 00:00:00 &#43;0000 UTC" itemprop="datePublished dateModified">
      2017-07-05
    </time>
  </span>

  

</div>

    

    <div class="post-style" itemprop="articleBody">
      Red Hat Enterprise Linux Training Notes
      

<p>Notes from RHEL 7 Partner Training&hellip;</p>

<p>You can access Red Hat Support via the CLI tool<code> redhat-support-tool</code>
The tool gives you access to the KB, which you can search from the CLI and you can work with support tickets.</p>

<p>Running <code>sosreport</code> will create an archive file with logs and other info that can be attached to a ticket.</p>

<p><code>redhat-support-tool</code> has options for attaching files, it will look for an sosreport when you first open the ticket.</p>

<p>RHEL 7 has symbolic links for 4 folders in <code>/</code> to the same folder in /usr.
They are:</p>

<pre><code>/bin links to /usr/bin
/sbin links to /usr/sbin
/lib links to /usr/lib
/lib64 links to /usr/lib64
</code></pre>

<p><code>cp -r</code> is required for copying folders;<code>-r</code> is for recursive.</p>

<p><code>mkdir -p</code> creates parent directories as well.</p>

<p><code>rmdir</code> for removing empty directories, but <code>rm -rf</code> for folders with contents.</p>

<p>Hard links are limited to being in the same file system; soft links/symbolic links can cross file systems.</p>

<p>New user accounts automatically have a Primary Group with the same name as the username. The Primary Group owns the files created by the user.</p>

<p>PolicyKit is similar to UAC in Windows. It is for GUI based apps and maintains its own configuration (independent of <code>sudo</code>) for what users/groups are permitted to elevate their privileges.</p>

<p>SU options:</p>

<pre><code>    add &lt;code&gt;-&lt;/code&gt; to start with a clean environment
    add &lt;code&gt;-c&lt;/code&gt; to run a single command
</code></pre>

<p>Commands run via <code>sudo</code> are logged to <code>/var/log/secure</code></p>

<p><code>userdel -r</code> deletes the user from /etc/passwd and deletes their home directory.</p>

<p>Deleting a user frees up the UID, which could be re-assigned to a new user. Files owned by a UID that has been assigned to a new user keep their ownership, meaning they are now owned by a new user. This may have unintended consequences.</p>

<p>To find unowned files run this command as root:
<code>find / -nouser -o -nogroup 2&gt; /dev/null</code></p>

<p>Passwords for users are stored in <code>/etc/shadow</code>
They are stored salted and hashed.
Hashing algorithm defaults to SHA-512 - this can be changed - via <code>authconfig &ndash;passalgo</code> - but it can only be lowered to MD5 or SHA-256, so probably not a good idea. (More bits == better!)</p>

<p>Passwords are processed by adding the salt to the user provided password and re-encrypted. If the value of this process matches the stored (hashed &amp; salted) password, then the user has provided the correct password.
Each user has a randomly generated salt. I assume this is picked at user creation time, but could be updated when the password is changed.
Unique salts prevents identical values for hashed passwords.</p>

<p>Password aging and expiry is controlled with <code>chage</code>.
Account locking is controlled with <code>usermod -L</code></p>

<p>Users can be assigned the &ldquo;nologin&rdquo; shell. This will prevent shell connections, but still allows the user to have an account. Example provided includes a mail user, where access to email is controlled via local account, but the user does not access their email from a shell session.
nologon shell is <code>/sbin/nologin</code></p>

<p><code>sssd</code> package provides LDAP client software dependencies.
<code>krb5-workstation</code> package is useful for debuging kerberos issues and can work with kerberos tickets from the CLI.</p>

<p>IPA can be used to control <code>sudo</code>, ssh public keys, ssh host keys, server certs, automounter maps.
IPA server provides LDAP and Kerberos.
IPA can create and manage domains.</p>

<p><code>samba-winbind</code> can be installed so the computer can join an AD Domain, <code>authconfig</code> can be used to configure <code>winbind</code>.</p>

<p><code>realmd</code> package can be used to join an AD Domain and configure which users are allowed to login to the Red Hat computer.</p>

<p>Users need to login with their fully qualified name, eg:
IPA = user1@ipa.example.com
AD = DOMAIN\user1</p>

<p>Red Hat has an IPA guide here: <a href="https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/6/html-single/Identity_Management_Guide/index.html" target="_blank">https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/6/html-single/Identity_Management_Guide/index.html</a>
But from a quick scan I don&rsquo;t know what IPA stands for.</p>

<p>File Permissions
Changing Group ownership of a file or directory - use : before the group name.
<code>chown :newgroup dirname</code></p>

<p>Changing User and Group ownership of a file or directory - declare as user:group.
<code>chown newuser:newgroup dirname</code></p>

<p>Restrictions:
Only root can the user that owns a file.
root or the current owner can change the group that owns the file, but current (non-root) user can only change the group to one that the user is a member of.</p>

<p><code>chgrp</code> can also be used to change group ownership; <code>chgrp</code> works like <code>chown</code>, including <code>-R</code> for recursive.</p>

<p>Special Permissions for Files
<code>setuid</code> permissions allow a file to be executed as the user that owns the file, instead of the user that calls the file.
<code>setgid</code> permissions allow a file to be executed as the group that owns the file.
When looking the the file properties <code>(ls -l)</code> you will see a <code>S</code> or an <code>s</code>.
The capital S means there are no execute permissions on the file, whereas the small s means that there are execute permissions.</p>

<p><code>setuid</code> permissions can be set using <code>chmod u+s filename</code> or <code>chmod 4700 filename</code> and <code>setgid</code> permissions can be set using <code>chmod g+s filename</code> or <code>chmod 2700 filename</code>.</p>

<p><em>Special Permissions for Directories</em>
<em>When the <code>sticky</code> bit is enabled on a directory, it restricts who can delete files. Only root, the owner of the file or the owner of the directory that the file is in can delete the file contents.</em>
<em><code>sticky</code> bit is displayed as a <code>t</code> at the end of the permissions for a directory. (<code>ls -ld</code> will show something like: <code>drwxrwxrwt</code>)</em>
<em>The sticky bit is set via:</em>
<em><code>chmod a+t directoryname</code> or <code>chmod 1777 directoryname</code></em></p>

<p>Shared folders can be configured with <code>setgid</code> so that the files created in these folders inherit the group owner value that is assigned to the directory, instead of the defualt behaviour, which is to have the primary group of the user that creates the file.
<code>chmod g+s directoryname</code>
Directory permissions will show an S or an s where the x should be.
Capital S for no execute bit on the folder.</p>

<h2 id="selinux">SELinux</h2>

<p>SELinux adds an additional layer of object-oriented security to Linux.
Provides sophisticated security rules for defining access.</p>

<p>To check SELinux mode run <code>getenforce</code>
To check for SELinux contexts on files/folders use <code>ls -Z</code>
To display SELinux booleans run <code>getsebool -a</code></p>

<p>Modes are to determine how rules are enacted - Enforcing, Permissive, Disabled.
Changing between Enforcing and Permissive does not require a reboot.
Changing to Disabled does require a reboot - using Permissive instead of Disabled is recommended.</p>

<h2 id="process-management">Process Management</h2>

<p>Processes can be managed for the current user or another user with Signals.
Signals tell the process what action to take - Stop, Terminate, Kill, Core Dump, Resume&hellip;
Signals can be initiated with keyboard shortcuts or by calling the short name for the signal.
Users can Kill processes they own, but root is required to kill processes owned by other users.</p>

<p>Suspend (STOP) is initiated with <code>Crtl-Z</code>
Kill is intiated with <code>Crtl-C</code>
Core Dump is initiated with <code>Crtl-&lt;/code&gt;</p>

<p>Use <code>kill</code> command to send any signal
Use <code>killall</code> to kill processes in groups, either by matching name, owned by user or all system processes.
Use <code>pkill</code> to kill processes with even more granular control.</p>

<p>Use terminate option first, since it allows for clean up. Kill is final and doesn&rsquo;t allow for clean up, should only be used if the process does not respond.</p>

    </div>

    
      

    

    
      
<div class="share-box" aria-hidden="true">
  <ul class="share">
    <li>
      <a class="twitter"
         href="https://twitter.com/intent/tweet?text=Red%20Hat%20Enterprise%20Linux%20Training%20-%20Notes&amp;url=http%3a%2f%2fwww.clintmcguire.com%2fblog%2fredhat_enterprise_linux_training_notes%2f"
         target="_blank" rel="noopener noreferrer">
        <i class="fa fa-twitter"></i>
      </a>
    </li>
    <li>
      <a class="facebook"
         href="https://www.facebook.com/sharer.php?u=http%3a%2f%2fwww.clintmcguire.com%2fblog%2fredhat_enterprise_linux_training_notes%2f"
         target="_blank" rel="noopener noreferrer">
        <i class="fa fa-facebook"></i>
      </a>
    </li>
    <li>
      <a class="linkedin"
         href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3a%2f%2fwww.clintmcguire.com%2fblog%2fredhat_enterprise_linux_training_notes%2f&amp;title=Red%20Hat%20Enterprise%20Linux%20Training%20-%20Notes"
         target="_blank" rel="noopener noreferrer">
        <i class="fa fa-linkedin"></i>
      </a>
    </li>
    <li>
      <a class="email"
         href="mailto:?subject=Red%20Hat%20Enterprise%20Linux%20Training%20-%20Notes&amp;body=http%3a%2f%2fwww.clintmcguire.com%2fblog%2fredhat_enterprise_linux_training_notes%2f">
        <i class="fa fa-envelope"></i>
      </a>
    </li>
  </ul>
</div>


    

    
      
<div class="disqus">
  <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "clintmcguire-com" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>


    

  </div>
</article>
			</section>
		</div>
	</article>
</div> 

<div class="page_footer">
	<p>&copy; Clint McGuire 2009-2019. Powered by <a href="http://gohugo.io/">Hugo</a> and a modified version of <a href="https://github.com/jhu247/minimal-academic">Minimal Academic</a></p>
</div>
    
    
    <script id="dsq-count-scr" src="//clintmcguire-com.disqus.com/count.js" async></script>
    


  </body>
</html>
